{"remainingRequest":"/Users/alejandro/Documents/worktrials/ine/beerapp/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/alejandro/Documents/worktrials/ine/beerapp/src/views/Home.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/alejandro/Documents/worktrials/ine/beerapp/src/views/Home.vue","mtime":1572323862573},{"path":"/Users/alejandro/Documents/worktrials/ine/beerapp/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/alejandro/Documents/worktrials/ine/beerapp/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/alejandro/Documents/worktrials/ine/beerapp/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/alejandro/Documents/worktrials/ine/beerapp/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/alejandro/Documents/worktrials/ine/beerapp/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBCZWVycyBmcm9tICJAL2NvbXBvbmVudHMvQmVlcnMudnVlIjsKaW1wb3J0IEZpbHRlck9wdGlvbnMgZnJvbSAiQC9jb21wb25lbnRzL0ZpbHRlck9wdGlvbnMudnVlIjsKaW1wb3J0IFNpZGViYXIgZnJvbSAiQC9jb21wb25lbnRzL1NpZGViYXIudnVlIgovLyBpbXBvcnQgYmVlcnNNb2NrIGZyb20gIi4uLy4uL3Rlc3RzL3VuaXQvbW9ja3MvYmVlcnMubW9jayI7CmltcG9ydCB7IG1hcEdldHRlcnMsIG1hcE11dGF0aW9ucywgbWFwQWN0aW9ucyB9IGZyb20gJ3Z1ZXgnCgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogImhvbWUiLAogIGNvbXBvbmVudHM6IHsKICAgIEJlZXJzLAogICAgU2lkZWJhciwKICAgIEZpbHRlck9wdGlvbnMKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBzaWRlYmFyVmlzaWJsZTogZmFsc2UsCiAgICAgIGJlZXJWaXNpYmxlOiBmYWxzZSwKICAgICAgbG9hZGluZzogZmFsc2UsCiAgICAgIG9yZGVyQnk6ICduYW1lJwogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICAuLi5tYXBHZXR0ZXJzKHsKICAgICAgY3VycmVudEJlZXJzOiAnZ2V0QmVlcnMnCiAgICB9KQogICAgLy8gY3VycmVudEJlZXJzKCkgewogICAgLy8gICByZXR1cm4gYmVlcnNNb2NrOwogICAgLy8gfQogIH0sCiAgbWV0aG9kczogewogICAgLi4ubWFwQWN0aW9ucyhbCiAgICAgICdmZXRjaEJlZXJzJwogICAgXSksCiAgICAuLi5tYXBNdXRhdGlvbnMoWwogICAgICAnc2V0T3JkZXJCeScKICAgIF0pLAogICAgdG9nZ2xlU2lkZWJhcigpIHsKICAgICAgdGhpcy5zaWRlYmFyVmlzaWJsZSA9ICF0aGlzLnNpZGViYXJWaXNpYmxlOwogICAgfSwKICAgIHRvZ2dsZUJlZXJTaWRlYmFyKCkgewogICAgICB0aGlzLmJlZXJWaXNpYmxlID0gIXRoaXMuYmVlclZpc2libGU7CiAgICB9LAogICAgdG9nZ2xlTG9hZGluZyAoKSB7CiAgICAgIHRoaXMubG9hZGluZyA9ICF0aGlzLmxvYWRpbmcKICAgIH0sCiAgICBvcGVuQUJlZXIoKSB7CiAgICAgIHRoaXMuYmVlclZpc2libGUgPSB0cnVlCiAgICB9LAogICAgdG9vZ2xlQ2hlY2tib3goZSkgewogICAgICBpZiAoZS50YXJnZXQudmFsdWUgPT09IHRoaXMub3JkZXJCeSkgewogICAgICAgIHRoaXMub3JkZXJCeSA9ICdpZCcKICAgICAgfQogICAgfSwKICAgIGNsb3NlU2lkZWJhcnMoKSB7CiAgICAgIHRoaXMuc2lkZWJhclZpc2libGUgPSBmYWxzZQogICAgICB0aGlzLmJlZXJWaXNpYmxlID0gZmFsc2UKICAgICAgaWYgKHRoaXMuJHJvdXRlLm5hbWUgPT09ICdiZWVyJykgeyB0aGlzLiRyb3V0ZXIucHVzaCh7bmFtZTogJ2hvbWUnfSkgfQogICAgfQogIH0sCiAgYXN5bmMgbW91bnRlZCAoKSB7CiAgICB0aGlzLmxvYWRpbmcgPSB0cnVlCiAgICB0cnkgewogICAgICBhd2FpdCB0aGlzLmZldGNoQmVlcnMoKQogICAgICB0aGlzLmJlZXJWaXNpYmxlID0gdGhpcy4kcm91dGUubmFtZSA9PT0gJ2JlZXInCiAgICB9IGZpbmFsbHkgewogICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZQogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgICRyb3V0ZSh0bykgewogICAgICBpZiAodG8ubmFtZSA9PT0gJ2JlZXInKSB7CiAgICAgICAgdGhpcy5vcGVuQUJlZXIoKQogICAgICB9CiAgICB9LAogICAgJ29yZGVyQnknOiBmdW5jdGlvbiAobmV3VmFsKSB7CiAgICAgIHRoaXMuc2V0T3JkZXJCeShuZXdWYWwpCiAgICB9CiAgfQp9Owo="},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Home.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"home\">\n    <div class=\"main ui\">\n      <div class=\"ui mini text loader\" v-if=\"loading\">Loading</div>\n      <sui-sidebar-pushable>\n        <!-- Sidebar Menu -->\n        <Sidebar\n          :toggle-sidebar=\"toggleSidebar\"\n          :sidebar-visible=\"sidebarVisible\"\n          from=\"left\"\n        >\n          <FilterOptions \n            :toggle-loading=\"toggleLoading\"\n            :on-submit=\"toggleSidebar\"\n          />\n        </Sidebar>\n\n        <sui-sidebar-pusher :dimmed=\"sidebarVisible || beerVisible\" class @click=\"closeSidebars()\">\n          <div class=\"ui menu container\">\n            <a class=\"toc item\" @click.stop=\"toggleSidebar()\">\n              <i class=\"filter icon\"></i><span class=\"hideMobile\">Beer filter!</span>\n            </a>\n            <div class=\"right menu\">\n              <div class=\"hideMobile header item\">Order by:</div>\n                <div class=\"item\">\n                  <div class=\"ui toggle checkbox\">\n                    <input v-model=\"orderBy\" value=\"name\" type=\"radio\" name=\"name\" @click.stop=\"toogleCheckbox($event)\">\n                    <label>Name</label>\n                  </div>\n                </div>\n                <div class=\"item\">\n                  <div class=\"ui toggle checkbox\">\n                    <input v-model=\"orderBy\" value=\"abv\" type=\"radio\" name=\"abv\" @click.stop=\"toogleCheckbox($event)\">\n                    <label>ABV</label>\n                  </div>\n                </div>\n                <div class=\"item\">\n                  <div class=\"ui toggle checkbox\">\n                    <input v-model=\"orderBy\" value=\"ibu\" type=\"radio\" name=\"ibu\" @click.stop=\"toogleCheckbox($event)\">\n                    <label>IBU</label>\n                  </div>\n                </div>\n            </div>\n          </div>\n          <div class=\"main-content\">\n            <sui-dimmer :active=\"loading\">\n              <sui-loader :active=\"loading\" content=\"Loading\" size=\"large\"/>\n            </sui-dimmer>\n            <Beers :beers=\"currentBeers\"/>\n          </div>\n          <footer>\n            <div class=\"ui container\">\n              <p>alegalviz - 2019</p>\n            </div>\n          </footer>\n        </sui-sidebar-pusher>\n\n        <Sidebar\n          :toggle-sidebar=\"closeSidebars\"\n          :sidebarVisible=\"beerVisible\"\n          width=\"very wide beer-details\"\n          from=\"right\"\n        >\n          <router-view />\n        </Sidebar>\n      </sui-sidebar-pushable>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Beers from \"@/components/Beers.vue\";\nimport FilterOptions from \"@/components/FilterOptions.vue\";\nimport Sidebar from \"@/components/Sidebar.vue\"\n// import beersMock from \"../../tests/unit/mocks/beers.mock\";\nimport { mapGetters, mapMutations, mapActions } from 'vuex'\n\nexport default {\n  name: \"home\",\n  components: {\n    Beers,\n    Sidebar,\n    FilterOptions\n  },\n  data() {\n    return {\n      sidebarVisible: false,\n      beerVisible: false,\n      loading: false,\n      orderBy: 'name'\n    };\n  },\n  computed: {\n    ...mapGetters({\n      currentBeers: 'getBeers'\n    })\n    // currentBeers() {\n    //   return beersMock;\n    // }\n  },\n  methods: {\n    ...mapActions([\n      'fetchBeers'\n    ]),\n    ...mapMutations([\n      'setOrderBy'\n    ]),\n    toggleSidebar() {\n      this.sidebarVisible = !this.sidebarVisible;\n    },\n    toggleBeerSidebar() {\n      this.beerVisible = !this.beerVisible;\n    },\n    toggleLoading () {\n      this.loading = !this.loading\n    },\n    openABeer() {\n      this.beerVisible = true\n    },\n    toogleCheckbox(e) {\n      if (e.target.value === this.orderBy) {\n        this.orderBy = 'id'\n      }\n    },\n    closeSidebars() {\n      this.sidebarVisible = false\n      this.beerVisible = false\n      if (this.$route.name === 'beer') { this.$router.push({name: 'home'}) }\n    }\n  },\n  async mounted () {\n    this.loading = true\n    try {\n      await this.fetchBeers()\n      this.beerVisible = this.$route.name === 'beer'\n    } finally {\n      this.loading = false\n    }\n  },\n  watch: {\n    $route(to) {\n      if (to.name === 'beer') {\n        this.openABeer()\n      }\n    },\n    'orderBy': function (newVal) {\n      this.setOrderBy(newVal)\n    }\n  }\n};\n</script>\n<style scoped lang=\"scss\">\n.pusher {\n  min-height: 100vh;\n  padding-bottom: 100px;\n}\n.main-content {\n  margin-top: 30px;\n}\nfooter {\n  position: absolute;\n  bottom: 0;\n  width: 100%;\n  height: 60px;\n  padding-top: 20px;\n  padding-bottom: 20px;\n  background-color: #f8f8f8;\n  margin-top: 0;\n  margin-bottom: 0;\n}\n/* fixed fix */\n.pushable:not(body) {\n  transform: none;\n}\n\n.pushable:not(body) > .ui.sidebar,\n.pushable:not(body) > .fixed,\n.pushable:not(body) > .pusher:after {\n  position: fixed;\n}\n\n.ui.active.dimmer {\n  position: fixed;\n  max-height: 100vh;\n}\n@media only screen and (max-width: 768px) {\n  .hideMobile {\n    display: none !important;\n  }\n  .beer-details {\n    max-width: 100% !important;\n  }\n}\n\n</style>"]}]}